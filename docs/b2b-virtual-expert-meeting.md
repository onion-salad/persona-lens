# B2B向け「仮想専門家会議」機能まとめ

## 概要
- B2Bビジネス向けに、仮想の専門家（AIペルソナ）たちによる会議・意思決定・シミュレーションを実現する機能
- ユーザーは「仮想会議室」に指示や課題を投げるだけで、最適なAIペルソナ構成・回答・議論結果をリアルタイムで得られる
- MVP段階では「7名以内の専門家ペルソナ＋gpt-4o-mini」でコスト最適化しつつ、"統計的最適"なUXを演出

## アーキテクチャ方針
- **Estimator Agent**：ユーザー要望から最適なペルソナ数・属性（業種/役職/企業規模/意思決定権などB2B特化）を推定
- **personaFactoryツール**：属性リストに基づきAIペルソナを生成し、Supabaseに保存
- **Orchestrator Agent**：全体進行・ツール呼び出し・WebSocketで表データをフロントにストリーム
- **フロントエンド**：オーケストレーターとチャットするUI。表形式でペルソナ情報・回答をリアルタイム表示

## MVP体験フロー
1. ユーザーが「仮想会議で検証したい課題・仮説」を入力
2. Orchestrator → Estimator Agentで最適なペルソナ数・属性を推定
3. personaFactoryツールでペルソナを生成（最大7名、B2B属性）
4. Orchestratorが各ペルソナに課題を投げ、回答を表形式でストリーム配信
5. ユーザーは表UIでリアルタイムに議論・回答を確認

## B2B特化のペルソナ属性例
- 業種（IT、製造、金融、医療など）
- 役職（経営者、部長、現場リーダーなど）
- 企業規模（大企業、中堅、中小、スタートアップ）
- 地域、部門、年齢層、性別
- 意思決定権、購買力、専門分野
- その他カスタム属性（JSONBで拡張）

## 技術スタック・設計ポイント
- Mastra（TypeScript）で多エージェント・ツール連携をシンプルに実装
- Supabase/PostgreSQLで全データを正規化・拡張性高く保存
- WebSocketで表データをストリーム配信し、MVPでも"リアルタイム感"を演出
- コスト最適化のためgpt-4o-miniを活用
- 将来的なビッグデータ活用・法人売却も見据えたスキーマ設計

## 今後の拡張ロードマップ（6か月想定）
- Phase 1: マルチモーダル (画像/音声) Personae
- Phase 2: 社内データセット接続 → "社内ベテラン仮想化"
- Phase 3: 3Dアバター＋音声でリアルタイムパネルディスカッション
- Phase 4: パートナーAPI公開 → 外部開発者が独自Personaを販売 (Marketplace)

---

**この方針でMVP開発を進め、まずはB2B向け仮想専門家会議の価値検証・体験設計に集中します。** 